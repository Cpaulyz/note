# 设计模式

## 策略模式

* 需要有一个**算法族**
	* 实现的目标一样，接口一样，实现的细节不一样
	* 可替换的

![image-20210309101958003](https://cyzblog.oss-cn-beijing.aliyuncs.com/image-20210309101958003.png)

## 简单工厂模式

简单工厂模式(Simple Factory Pattern)：又称为静态工厂方法(Static Factory Method)模式，它属于 类创建型模式。

在简单工厂模式中，可以根据参数的不同返回不同类的实例。

简单工厂模式专门定义一个类来负责创建其他类的实例，被创建的实例通常都具有共同的父类。

![image-20210309111041952](https://cyzblog.oss-cn-beijing.aliyuncs.com/image-20210309111041952.png)

目的：**将对象的创建和使用职责分隔开**

如果不使用工厂模式，在对象创建时必然产生耦合。比如new XXX()，XXX必然是具体的类

所以工厂模式的本质上是**降低了局部代码的复杂度**

### 优缺点

* 最大的问题在于工厂类的职责相对过重，增加新的产品需要修改工厂类的判断逻辑，这一点与开闭原则是相违背的。
* 简单工厂模式的要点在于：**当你需要什么，只需要传入一个正确的参数，就可以获取你所需要的对象，而无须知道其创建细节。**

### 适用

* 工厂类负责创建的对象比较少
* 客户端只知道传入工厂类的参数，对于如何创建对象不关心（甚至连类名都不知道）

### 简化

在有些情况下工厂类可以由抽象产品角色扮演，一个抽象产品类同时也是子类的工厂，也就是说把静 态工厂方法写到抽象产品类中。

![image-20210309112931580](https://cyzblog.oss-cn-beijing.aliyuncs.com/image-20210309112931580.png)

## 工厂方法模式

![image-20210309113542092](https://cyzblog.oss-cn-beijing.aliyuncs.com/image-20210309113542092.png)

![image-20210309113552863](https://cyzblog.oss-cn-beijing.aliyuncs.com/image-20210309113552863.png)